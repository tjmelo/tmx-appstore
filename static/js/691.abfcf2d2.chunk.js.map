{"version":3,"file":"static/js/691.abfcf2d2.chunk.js","mappings":"gMAOA,MAAMA,GAAQC,EAAAA,EAAAA,MAAK,IAAM,uDACnBC,GAAOD,EAAAA,EAAAA,MAAK,IAAM,sDAClBE,GAAQF,EAAAA,EAAAA,MAAK,IAAM,+BAOnBG,EAAOC,IAAgC,IAA/B,QAACC,EAAO,QAAEC,GAAeF,EAEnC,MAAMG,GAAOC,EAAAA,EAAAA,MACPC,GAAWC,EAAAA,EAAAA,MAEXC,EAAkBC,OAAOC,aAAaC,QAAQ,kBAC9CC,EAAiBV,EAAQW,OAAOC,IAAA,IAAC,GAACC,GAAGD,EAAA,OAAKC,IAAOP,KAEhDQ,EAAOC,IAAYC,EAAAA,EAAAA,UAAwB,OAC3CC,EAAMC,IAAWF,EAAAA,EAAAA,UAAwB,OAEzCG,EAAQC,IAAaJ,EAAAA,EAAAA,UAGlB,OAEVK,EAAAA,EAAAA,WAAU,KACNP,GAASG,GAAQG,EAAU,CACvBE,gBAAiBR,EACjBS,eAAgBN,KAErB,CAACH,EAAOG,IAuBX,OACIO,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,EAAOC,KAAM,cAAY,mBAAkBC,SAAA,EACvDC,EAAAA,EAAAA,KAAChC,EAAK,CAACiC,MAAc,OAAP7B,QAAO,IAAPA,OAAO,EAAPA,EAAS6B,MAAOC,SAAiB,OAAP9B,QAAO,IAAPA,OAAO,EAAPA,EAAS8B,YACjDF,EAAAA,EAAAA,KAACnC,EAAK,CACFoB,MAAc,OAAPb,QAAO,IAAPA,OAAO,EAAPA,EAASa,MAChBkB,YAzBMC,GAAkBlB,EAASkB,GA0BjCd,OAAQA,GAAUA,EAAOG,iBAE7BO,EAAAA,EAAAA,KAACjC,EAAI,CAACqB,KAAa,OAAPhB,QAAO,IAAPA,OAAO,EAAPA,EAASgB,KAAMiB,WA3BlBD,GAAkBf,EAAQe,GA2Bad,OAAQA,GAAUA,EAAOI,gBAEjE,OAAPtB,QAAO,IAAPA,OAAO,EAAPA,EAASkC,aACNX,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,EAAOU,KAAKR,SAAA,EACxBC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,2CACRC,EAAAA,EAAAA,KAAA,KAAAD,SAAW,OAAP3B,QAAO,IAAPA,OAAO,EAAPA,EAASkC,gBAIrBN,EAAAA,EAAAA,KAAA,UAAQJ,UAAWC,EAAAA,EAAOW,OAAQC,QAjC5BC,KACVnB,EAAU,CAAEE,gBAAiBR,EAAOS,eAAgBN,IAE1C,OAANE,QAAM,IAANA,GAAAA,EAAQG,eAAuB,OAANH,QAAM,IAANA,GAAAA,EAAQI,eACjCnB,GACIoC,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,GAAC,CACTC,MAAuB,IAAhBC,KAAKC,SACZC,YAAa/B,EACbgC,WAAY7B,GACTP,EAAe,MAG1BR,EAAK,WAqB4C0B,SAAC,W","sources":["Components/detail/Info.tsx"],"sourcesContent":["import { useDispatch } from \"react-redux\";\nimport React, { useState, useEffect, lazy} from \"react\";\nimport { productItems } from \"../../features/product/productSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { TProductElement } from \"./Detail\";\nimport detail from \"./detail.module.scss\";\n\nconst Color = lazy(() => import(\"./Components/Color\"));\nconst Size = lazy(() => import(\"./Components/Size\"));\nconst Price = lazy(() => import(\"./Components/Price\"));\n\nexport type TInfo = {\n    product:[],\n    element: TProductElement\n}\n\nconst Info = ({product, element}: TInfo) => {\n\n    const link = useNavigate();\n    const dispatch = useDispatch();\n    \n    const getInterestItem = Number(localStorage.getItem('INTEREST_ITEM'));\n    const choosenProduct = product.filter(({id}) => id === getInterestItem)\n    \n    const [color, setColor] = useState<string | null>(null);\n    const [size, setSize] = useState<string | null>(null);\n\n    const [verify, setVerify] = useState<{\n        toVerifyColor: boolean;\n        toVerifySize: boolean;\n    } | null>(null);\n\n    useEffect(() => {\n        color && size && setVerify({ \n            toVerifyColor: !!color, \n            toVerifySize: !!size \n        });\n    }, [color, size]);\n\n\n    const getColor = (value: string) => setColor(value);\n    const getSize = (value: string) => setSize(value);\n\n    \n    const toBuy = () => {\n        setVerify({ toVerifyColor: !!color, toVerifySize: !!size });\n\n        if (verify?.toVerifyColor && verify?.toVerifySize) {\n            dispatch(\n                productItems({\n                    index: Math.random() * 100,\n                    colorChoose: color,\n                    sizeChoose: size,\n                    ...choosenProduct[0] as object\n                })\n            );\n            link(\"/cart\");\n        }\n    };\n\n    return (\n        <div className={detail.info} data-testid=\"test-information\">\n            <Price price={element?.price} discount={element?.discount} />\n            <Color\n                color={element?.color}\n                changeColor={getColor}\n                verify={verify && verify.toVerifyColor}\n            />\n            <Size size={element?.size} changeSize={getSize} verify={verify && verify.toVerifySize} />\n\n            {element?.promotion && (\n                <div className={detail.note}>\n                    <strong>Promotion available for this product!</strong>\n                    <p>{element?.promotion}</p>\n                </div>\n            )}\n\n            <button className={detail.btnBuy} onClick={toBuy}>\n                Buy\n            </button>\n        </div>\n    );\n};\n\nexport{ Info as default }\n"],"names":["Color","lazy","Size","Price","Info","_ref","product","element","link","useNavigate","dispatch","useDispatch","getInterestItem","Number","localStorage","getItem","choosenProduct","filter","_ref2","id","color","setColor","useState","size","setSize","verify","setVerify","useEffect","toVerifyColor","toVerifySize","_jsxs","className","detail","info","children","_jsx","price","discount","changeColor","value","changeSize","promotion","note","btnBuy","onClick","toBuy","productItems","_objectSpread","index","Math","random","colorChoose","sizeChoose"],"sourceRoot":""}