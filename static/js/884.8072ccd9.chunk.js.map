{"version":3,"file":"static/js/884.8072ccd9.chunk.js","mappings":"yJAAO,MAAMA,EAAkBA,CAACC,EAAyBC,KACrD,OAAQA,EAAOC,MACX,IAAK,YACD,MAAO,CAAEC,KAAMH,EAAMG,KAAO,GAChC,IAAK,YACD,MAAO,CAAEA,KAAMH,EAAMG,KAAO,GAChC,QACI,MAAM,IAAIC,QCNtB,EAAyB,8BAAzB,EAAiE,+B,aCMjE,MAAMC,GAAgBC,EAAAA,EAAAA,MAAK,IAAM,+BAC3BC,GAAkBD,EAAAA,EAAAA,MAAK,IAAM,+BAC7BE,GAA2BF,EAAAA,EAAAA,MAAK,IAAM,+BAa/BG,EAA8CC,IAGvC,IAHwC,UACxDC,EAAS,UACTC,GACHF,EACG,MAAMG,GAAWC,EAAAA,EAAAA,OAEVd,EAAOG,IAAQY,EAAAA,EAAAA,YAAWhB,EAAiB,CAC9CI,KAAM,IAKJa,GAAiBC,EAAAA,EAAAA,aAAY,KAC/B,MAAMC,EAA+B,MAApBP,EAAUQ,MACrBC,KAAKC,MAAMrB,EAAMG,KAAO,EAAKH,EAAMG,KAAO,GAAMQ,EAAUO,SACtC,MAApBP,EAAUQ,OACLnB,EAAMG,KAAOiB,KAAKC,MAAMrB,EAAMG,KAAO,IAAMQ,EAAUO,SACtDlB,EAAMG,KAAOQ,EAAUO,SAE3BI,EAAQtB,EAAMG,KAAOQ,EAAUY,MACrC,OAAOX,EAAU,CAAEM,WAAUI,WAC9B,CAACtB,EAAOY,EAAWD,EAAUO,SAAUP,EAAUY,MAAOZ,EAAUQ,SAErEK,EAAAA,EAAAA,WAAU,IAAMR,IAAkB,CAAChB,EAAOgB,IAE1C,MAAOS,EAAUC,IAAeC,EAAAA,EAAAA,WAAkB,GAMlD,OAJAH,EAAAA,EAAAA,WAAU,KACNxB,EAAMG,KAAO,EAAIuB,GAAY,GAASA,GAAY,IACnD,CAAC1B,KAGA4B,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAcC,SAAA,EAC1BH,EAAAA,EAAAA,MAAA,MAAAG,SAAA,EACIC,EAAAA,EAAAA,KAACzB,EAAe,CACZ0B,MAAM,MACNC,OAAO,IACPT,SAAUA,EACVU,GAAIA,IAAMhC,EAAK,CAAED,KAAM,iBAG3B8B,EAAAA,EAAAA,KAAC3B,EAAa,CAAC+B,MAAK,GAAAC,OAAKrC,EAAMG,SAE/B6B,EAAAA,EAAAA,KAACzB,EAAe,CACZ0B,MAAM,YACNC,OAAO,IACPT,UAAU,EACVU,GAAIA,IAAMhC,EAAK,CAAED,KAAM,oBAG/B8B,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAaC,UAC1BC,EAAAA,EAAAA,KAAA,UAAQC,MAAM,sBAAsBK,QAASA,KAAMC,OAzC3CC,EAyCsD7B,EAAU8B,MAzCjD5B,GAAS6B,EAAAA,EAAAA,IAAYF,IAApCA,OAyCuET,SAAC,cAIpFC,EAAAA,EAAAA,KAACxB,EAAwB,CAACL,KAAMH,EAAMG,KAAMQ,UAAWA,O","sources":["utils/logical-products.ts","webpack://app/./src/Components/product/components/Logic/logicProducts.module.scss?6c75","Components/product/components/Logic/LogicProducts.tsx"],"sourcesContent":["export const logicalProducts = (state: { qtde: number }, action: { type: string }) => {\n    switch (action.type) {\n        case \"increment\":\n            return { qtde: state.qtde + 1 };\n        case \"decrement\":\n            return { qtde: state.qtde - 1 };\n        default:\n            throw new Error();\n    }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"remove\":\"logicProducts_remove__oZbfL\",\"content\":\"logicProducts_content__7pa1L\"};","import React, { useReducer, lazy, useEffect, useState, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { removeItems } from \"../../../../features/product/productSlice\";\nimport { logicalProducts } from \"../../../../utils/logical-products\";\n\nimport style from \"./logicProducts.module.scss\";\n\nconst InputProducts = lazy(() => import(\"./components/input\"));\nconst ButtonsProducts = lazy(() => import(\"./components/button\"));\nconst MessagePromotionProducts = lazy(() => import(\"../MessagePromotionProducts\"));\n\ntype LogicProductsProps = {\n    reference: {\n        promotion: string,\n        promo: string,\n        discount: number,\n        price: number,\n        index: number\n    };\n    getValues: CallableFunction;\n}\n\nexport const LogicProducts: React.FC<LogicProductsProps> = ({\n    reference, \n    getValues,\n}): JSX.Element => {\n    const dispatch = useDispatch(); \n    \n    const [state, qtde] = useReducer(logicalProducts, {\n        qtde: 1,\n    });\n\n    const removeItem = (id: number) => dispatch(removeItems(id));\n\n    const calcTotalValue = useCallback(() => {\n        const discount = reference.promo === \"1\"\n            ? Math.floor(state.qtde / 2 + (state.qtde % 2)) * reference.discount\n            : reference.promo === \"2\"\n                ? (state.qtde - Math.floor(state.qtde / 3)) * reference.discount\n                : state.qtde * reference.discount;\n\n        const total = state.qtde * reference.price;\n        return getValues({ discount, total });\n    }, [state, getValues, reference.discount, reference.price, reference.promo]);\n\n    useEffect(() => calcTotalValue(), [state, calcTotalValue]);\n\n    const [disabled, setDisabled] = useState<boolean>(true);\n\n    useEffect(() => {\n        state.qtde > 1 ? setDisabled(false) : setDisabled(true);\n    }, [state]);\n\n    return (\n        <div className={style.content}>\n            <ul>\n                <ButtonsProducts\n                    title=\"Add\"\n                    simbol=\"-\"\n                    disabled={disabled}\n                    fn={() => qtde({ type: \"decrement\" })}\n                />\n\n                <InputProducts value={`${state.qtde}`} />\n\n                <ButtonsProducts\n                    title=\"Substract\"\n                    simbol=\"+\"\n                    disabled={false}\n                    fn={() => qtde({ type: \"increment\" })}\n                />\n            </ul>\n            <span className={style.remove}>\n                <button title=\"Remove this product\" onClick={() => removeItem(reference.index)}>\n                    remove\n                </button>\n            </span>\n            <MessagePromotionProducts qtde={state.qtde} reference={reference} />\n        </div>\n    );\n};\n"],"names":["logicalProducts","state","action","type","qtde","Error","InputProducts","lazy","ButtonsProducts","MessagePromotionProducts","LogicProducts","_ref","reference","getValues","dispatch","useDispatch","useReducer","calcTotalValue","useCallback","discount","promo","Math","floor","total","price","useEffect","disabled","setDisabled","useState","_jsxs","className","style","children","_jsx","title","simbol","fn","value","concat","onClick","removeItem","id","index","removeItems"],"sourceRoot":""}